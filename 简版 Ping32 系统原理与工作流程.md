# 简版 Ping32 项目文档



# A).项目介绍：



## 一. 项目背景

Ping32 是一种面向企业的文件安全管理系统，主要用于在企业内部对文件的访问和传输进行加密保护、权限管理和操作审计。我们这次复现的是一个简版的 Ping32，核心目标是实现：

- 用户身份认证与权限管理
- 文件上传加密、下载解密
- 用户操作行为审计和日志记录
- 方便用户通过 Web 界面进行交互

------

## 二. 简版 Ping32 的核心原理

- **身份认证和权限管理**：用户通过用户名和密码登录，系统确认身份并判断其对文件的访问权限，确保只有授权用户才能操作文件。
- **文件加密与解密**：上传的文件经过 AES-256 加密后存储，下载时再解密，保证文件在存储和传输过程中的安全。
- **操作审计**：系统记录用户的每一次操作（如上传、下载、删除），便于管理员追踪和审查。
- **Web 前端交互**：用户通过网页界面实现文件上传、下载、查看日志等操作，前端与后端API交互。

------

## 三. 工作流程图（简要）

```plaintext
用户登录 → 权限验证 → 文件上传（加密） → 文件存储 → 审计日志写入
                          ↓
                    文件下载请求 → 权限验证 → 文件解密 → 返回文件 → 审计日志写入
```

> [!IMPORTANT]
>
> #### 1. 用户登录
>
> 用户打开系统首页，看到简洁的**登录页面**，输入用户名和密码，点击“登录”按钮。
>  后台通过用户认证模块验证账号密码，验证成功后返回登录凭证（Token），并跳转到主页面。
>  只要持有有效Token，用户就被视为已登录。
>
> ------
>
> #### 2. 文件上传
>
> - 在主页面，用户点击“上传文件”按钮，弹出文件选择对话框。
> - 用户选中文件后点击“确认上传”，前端将文件和用户Token发送给后端上传接口。
> - 后端先校验Token有效性，确认用户已登录。
> - 校验通过后，调用**加密模块**使用AES-256对文件进行加密，密钥由系统安全管理。
> - 加密完成的文件保存到服务器存储目录，并记录文件信息（文件名、上传者、时间等）入数据库。
> - 系统调用审计模块，记录本次上传操作的详细日志（用户ID、文件ID、时间、IP等）。
> - 前端收到上传成功响应后，刷新文件列表，展示刚上传的文件。
>
> ------
>
> #### 3. 文件下载
>
> - 用户在文件列表中找到想下载的文件，点击“下载”按钮。
> - 前端发送带用户Token和文件ID的下载请求到后端。
> - 后端校验Token，确认用户已登录。
> - 验证成功后，调用加密模块对对应加密文件进行解密。
> - 解密后的文件通过流方式返回给前端，浏览器弹出保存对话框。
> - 同时，审计模块记录本次下载行为日志，方便后续审计管理。
>
> ------
>
> #### 4. 文件删除
>
> - 用户在文件列表中点击“删除”按钮发起删除请求。
> - 后端校验Token确认登录状态。
> - 删除对应服务器上的文件及数据库记录。
> - 审计模块记录删除操作日志。
> - 前端刷新文件列表，反映删除结果。
>
> 

## 四. 各模块说明

| 模块       | 主要职责                           |
| ---------- | ---------------------------------- |
| 用户认证   | 用户注册、登录验证、权限控制       |
| 文件加解密 | 文件的加密处理、密钥管理           |
| 操作审计   | 记录用户文件操作，提供查询审计功能 |
| 前端界面   | 提供交互页面，调用后端API完成操作  |

------

## 五. 技术选型（可以选用其他的，只是参考）

- **后端框架**：Flask，轻量、灵活，适合快速搭建Web服务
- **数据库**：SQLite，文件轻量型数据库，方便部署和管理用户与日志数据
- **前端框架**：Bootstrap，简洁响应式设计，提升界面体验
- **加密算法**：AES-256，业界标准的对称加密算法，安全可靠





